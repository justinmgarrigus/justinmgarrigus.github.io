<!DOCTYPE html>
<html lang="en">
  <script>
    fetch("config.json")
      .then(r => r.json())
      .then(cfg => {
        var elements = document.getElementsByClassName("fullName");
        for (var i = 0; i < elements.length; i++) {
          elements[i].textContent = cfg.fullName;
        }
        elements = document.getElementsByClassName("firstName");
        for (var i = 0; i < elements.length; i++) {
          elements[i].textContent = cfg.firstName;
        } 
      }); 
  </script>  
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home</title>
    <link rel="stylesheet" href="/style-sidebar.css">
    <link rel="icon" type="image/x-icon" href="media/icon.ico">
  </head>
  <body class="webpage" style="height: 100vh;">
    
    <div class="sidebar">
      <div class="sidebar-text-area">
        <img id="pfp" src="/media/profile-pic.jpg" alt="Picture of me." style="max-width: 100%;">
      </div>
      <div class="sidebar-text-area">
        <p class="sidebar-text">Hello</p>
      </div>
    </div>

    <div class="main-area" style="display: flex; flex-direction: column; overflow: hidden;">
      <div class="title-area">
        <p class="title-text"><span class="fullName"></span></p>
        <p class="subtitle-text">
          Research Associate Intern, AMD<br>
          PhD Student in Computer Architecture, UT Austin
        </p> 
      </div>
      <div class="topbar"> 
        <table class="topbar-table"> 
          <tr>
            <th style="border-left: 0;">
              <p class="sidebar-text">Hi</p>
            </th>
          </tr> 
        </table>
      </div>
      <div style="flex-grow: 1;">
        <iframe id="content" style="width: 100%; height: 100%; border: none; overflow: hidden;"></iframe>
      </div>
    </div>

    <script> 
      const page = new URLSearchParams(window.location.search).get("page") || "main";
      const content = document.getElementById("content"); 
      content.src = `${page}.html`;
    </script>
      
  </body>
</html>
